<!-- Hero Section -->
<section class="relative overflow-hidden">
  <div class="absolute inset-0 bg-gradient-to-br from-violet-600/20 via-indigo-600/10 to-transparent dark:from-violet-900/30 dark:via-indigo-900/20"></div>
  <div class="absolute top-0 right-0 w-96 h-96 bg-gradient-to-br from-violet-400 to-indigo-500 rounded-full blur-3xl opacity-20 -translate-y-1/2 translate-x-1/2"></div>

  <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-24 lg:py-32">
    <div class="text-center max-w-4xl mx-auto">
      <h1 class="text-5xl lg:text-7xl font-bold text-gray-900 dark:text-white mb-6">
        Share Your
        <span class="bg-gradient-to-r from-violet-600 to-indigo-600 bg-clip-text text-transparent">Stories</span>
        With The World
      </h1>
      <p class="text-xl text-gray-600 dark:text-gray-300 mb-10 max-w-2xl mx-auto">
        A modern content management platform where creators can publish, share, and grow their audience with beautiful, engaging content.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <% if user_signed_in? %>
          <%= link_to new_post_path, class: "inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-violet-700 hover:to-indigo-700 shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40 transition-all" do %>
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"></path>
            </svg>
            Create New Post
          <% end %>
        <% else %>
          <%= link_to new_user_registration_path, class: "inline-flex items-center justify-center gap-2 px-8 py-4 bg-gradient-to-r from-violet-600 to-indigo-600 text-white font-semibold rounded-xl hover:from-violet-700 hover:to-indigo-700 shadow-lg shadow-violet-500/25 hover:shadow-violet-500/40 transition-all" do %>
            Start Creating
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7l5 5m0 0l-5 5m5-5H6"></path>
            </svg>
          <% end %>
        <% end %>
        <%= link_to "Explore Content", posts_path, class: "inline-flex items-center justify-center gap-2 px-8 py-4 bg-white dark:bg-gray-800 text-gray-900 dark:text-white font-semibold rounded-xl border border-gray-200 dark:border-gray-700 hover:border-violet-300 dark:hover:border-violet-600 shadow-lg hover:shadow-xl transition-all" %>
      </div>
    </div>
  </div>
</section>

<!-- Featured Posts Section -->
<% if @featured_posts.any? %>
  <section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
    <div class="flex items-center justify-between mb-8">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Featured Stories</h2>
      <%= link_to posts_path, class: "text-violet-600 dark:text-violet-400 font-medium hover:underline flex items-center gap-1" do %>
        View all
        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
        </svg>
      <% end %>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
      <% @featured_posts.each_with_index do |post, index| %>
        <%= render 'posts/card', post: post, featured: index == 0 %>
      <% end %>
    </div>
  </section>
<% end %>

<!-- Recent Posts Section -->
<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
  <div class="flex items-center justify-between mb-8">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white">Latest Posts</h2>
  </div>

  <% if @recent_posts.any? %>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <% @recent_posts.each do |post| %>
        <%= render 'posts/card', post: post %>
      <% end %>
    </div>
  <% else %>
    <div class="text-center py-16 bg-gray-100 dark:bg-gray-800 rounded-2xl">
      <svg class="w-16 h-16 mx-auto text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="1.5" d="M19 20H5a2 2 0 01-2-2V6a2 2 0 012-2h10a2 2 0 012 2v1m2 13a2 2 0 01-2-2V7m2 13a2 2 0 002-2V9a2 2 0 00-2-2h-2m-4-3H9M7 16h6M7 8h6v4H7V8z"></path>
      </svg>
      <h3 class="text-xl font-semibold text-gray-900 dark:text-white mb-2">No posts yet</h3>
      <p class="text-gray-600 dark:text-gray-400 mb-6">Be the first to share your story!</p>
      <% if user_signed_in? %>
        <%= link_to "Create Your First Post", new_post_path, class: "inline-flex items-center gap-2 px-6 py-3 bg-violet-600 text-white font-medium rounded-xl hover:bg-violet-700 transition-colors" %>
      <% else %>
        <%= link_to "Get Started", new_user_registration_path, class: "inline-flex items-center gap-2 px-6 py-3 bg-violet-600 text-white font-medium rounded-xl hover:bg-violet-700 transition-colors" %>
      <% end %>
    </div>
  <% end %>
</section>

<!-- Categories Section -->
<% if @categories.any? %>
  <section class="bg-gray-100 dark:bg-gray-800/50 py-16">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center">Browse by Category</h2>
      <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-4">
        <% @categories.each do |category| %>
          <%= link_to posts_path(category: category.slug), class: "group p-6 bg-white dark:bg-gray-800 rounded-xl shadow-sm hover:shadow-lg border border-gray-200 dark:border-gray-700 hover:border-violet-300 dark:hover:border-violet-600 transition-all text-center" do %>
            <div class="w-12 h-12 mx-auto mb-3 bg-gradient-to-br from-violet-500 to-indigo-500 rounded-xl flex items-center justify-center text-white text-xl group-hover:scale-110 transition-transform">
              <%= category.icon.presence || 'ðŸ“' %>
            </div>
            <h3 class="font-semibold text-gray-900 dark:text-white"><%= category.name %></h3>
            <p class="text-sm text-gray-500 dark:text-gray-400"><%= category.posts_count %> posts</p>
          <% end %>
        <% end %>
      </div>
    </div>
  </section>
<% end %>

<!-- CTA Section -->
<section class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
  <div class="relative overflow-hidden bg-gradient-to-r from-violet-600 to-indigo-600 rounded-3xl p-8 lg:p-12">
    <div class="absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2"></div>
    <div class="relative text-center">
      <h2 class="text-3xl lg:text-4xl font-bold text-white mb-4">Ready to Share Your Story?</h2>
      <p class="text-violet-100 mb-8 max-w-2xl mx-auto">
        Join our community of creators and start publishing your content today. It's free to get started!
      </p>
      <% unless user_signed_in? %>
        <%= link_to "Create Free Account", new_user_registration_path, class: "inline-flex items-center gap-2 px-8 py-4 bg-white text-violet-600 font-semibold rounded-xl hover:bg-violet-50 shadow-lg transition-all" %>
      <% end %>
    </div>
  </div>
</section>
